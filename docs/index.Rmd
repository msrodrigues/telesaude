---
title: "Telesaúde - Operação Inverno"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)

# Bibliotecas -------------------------------------------------------------
library(pacman)

# Georreferenciamento e mapas
p_load(ggmap)
p_load(sp)
p_load(rgdal)
p_load(hereR)
p_load(geobr)

# Tabelas, Ferramentas estatísticas,
p_load(directlabels)
p_load(esquisse)
p_load(obAnalytics)
p_load(DescTools)
p_load(kableExtra)
p_load(RColorBrewer)
p_load(scales)
p_load(reactable)

# Data wrangling
p_load(collapse)
p_load(here)
p_load(tictoc)
p_load(patchwork)
p_load(janitor)
p_load(glue)

# Próprios
p_load(cid10)
p_load(msrpack)

# Leitura
p_load(openxlsx)
p_load(readxl)
p_load(WriteXLS)
p_load(ggthemes)
p_load(googlesheets4)
p_load(vroom)

# Transformação e análise de dados
p_load(caret)
p_load(zoo)
p_load(tidyverse)
p_load(lubridate)

# Ajustes locais ----------------------------------------------------------

set_key(api_key = "tfgapuFbaa8rSY0QS_dbZj9d8qmdeKiXFHl2L39b-FY") # Api HERE
Sys.setenv(TZ="America/Recife")
options(tz="America/Recife")
Sys.getenv("TZ")
options(scipen = 999999)
Sys.setlocale("LC_TIME", "pt_BR")




# Carregamentos iniciais --------------------------------------------------
# Arquivos gerados pelo script moniramento.r
# 


internados <- read_rds(file = "../bin/internados.rds")
op_inverno <- read_rds(file = "../bin/op_inverno.rds")



```



Column {data-width=650}
-----------------------------------------------------------------------

### Pacientes internados no moento

```{r}

internados %>% 
  select(datahorainternacao, protocologerint, tipoleito, carater, idade, sexo, executante) %>% 
  mutate(
    datahorainternacao = date(datahorainternacao)
  ) %>% 
reactable(
  groupBy = "executante", 
  columns = list(
    executante = colDef(name = "Hospital Executante", minWidth = 600),
    datahorainternacao = colDef(name = "Data da Internação", minWidth = 200),
    protocologerint = colDef(name = "gerint", minWidth = 200),
    datahorainternacao = colDef(name = "Data da Internação", minWidth = 100),
    datahorainternacao = colDef(name = "Data da Internação", minWidth = 100),
    datahorainternacao = colDef(name = "Data da Internação", minWidth = 100)
  )
  
)
```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}

```

### Chart C

```{r}

```

